<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="author" content="Maasq" />
		<meta name="description" content="A tool for creating and managing NPCs." />
		<meta name="version" content="0.07.16" />
		<meta name="date" content="2025-10-17" />
		
		<title>NPC Engineer</title>
		
		<script src="https://cdn.tailwindcss.com"></script>
		<script src="https://unpkg.com/dexie@latest/dist/dexie.js"></script>
		<link rel="stylesheet" type="text/css" href="https://unpkg.com/trix@2.0.0/dist/trix.css">
		<script type="text/javascript" src="https://unpkg.com/trix@2.0.0/dist/trix.umd.min.js"></script>
		
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700&display=swap" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Cormorant+SC:wght@400;500;700&display=swap" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Macondo+Swash+Caps&display=swap" rel="stylesheet" />
		
		<link rel="stylesheet" href="style.css">
	</head>
	<body class="bg-[#E2E8F0]">
		<div class="max-w-screen-2xl mx-auto px-6 pb-6">

			<header class="sticky top-0 z-50 bg-[#E2E8F0] pt-1 pb-12">
				<div class="relative h-24">
					
					<div class="absolute top-2 left-2 z-40">
						<button id="hamburger-btn" class="w-10 h-10 flex items-center justify-center rounded-full bg-transparent hover:bg-violet-200 transition-colors">
							<svg class="h-6 w-6 text-black"><use href="#icon-hamburger"></use></svg>
						</button>
						<div id="main-menu" class="absolute left-0 mt-2 w-56 bg-white rounded-md shadow-lg z-50 hidden">
							<div class="relative group/bestiaries">
								<div class="flex justify-between items-center w-full px-4 py-1 text-sm text-gray-700 hover:bg-gray-100 cursor-default">
									<span>Bestiaries</span>
									<svg class="w-4 h-4"><use href="#icon-chevron"></use></svg>
								</div>
								<div class="absolute left-full top-0 w-56 bg-white rounded-md shadow-lg z-50 hidden group-hover/bestiaries:block">
									<a href="#" id="menu-new-bestiary" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">New Bestiary</a>
									<a href="#" id="menu-load-bestiary" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">Select Bestiary</a>
									<a href="#" id="menu-import-bestiary" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">Import Bestiary</a>
									<a href="#" id="menu-export-bestiary" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">Export Bestiary</a>
								</div>
							</div>
							<hr class="my-1"/>
							<div class="relative group/npcs">
								<div class="flex justify-between items-center w-full px-4 py-1 text-sm text-gray-700 hover:bg-gray-100 cursor-default">
									<span>NPCs</span>
									<svg class="w-4 h-4"><use href="#icon-chevron"></use></svg>
								</div>
								<div class="absolute left-full top-0 w-56 bg-white rounded-md shadow-lg z-50 hidden group-hover/npcs:block">
									<a href="#" id="menu-new-npc" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">New NPC</a>
									<a href="#" id="menu-duplicate-npc" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">Duplicate NPC</a>
									<a href="#" id="menu-import-npc" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">Import NPC</a>
									<a href="#" id="menu-export-npc" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">Export NPC</a>
									<a href="#" id="menu-delete-npc" class="menu-item block px-4 py-1 text-sm text-red-600 hover:bg-red-50">Delete NPC</a>
								</div>
							</div>
							<hr class="my-1"/>
							<a href="#" id="menu-settings" class="menu-item block px-4 py-1 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
						</div>
					</div>

					<div class="absolute w-32 h-32 bg-black rounded-full custom-shadow z-10" style="top: 16px; left: 28px"></div>
					<img src="graphics/npc engineer.webp" alt="NPC Engineer Logo" class="absolute w-32 h-32 rounded-full z-30" style="top: 16px; left: 28px" />
					
					
					<div id="bestiary-buttons" class="absolute right-3 top-[15px] z-30 flex items-center space-x-4">
						<span id="bestiary-status" class="text-sm font-medium text-gray-600 mr-2">No Bestiary Loaded</span>
						<button id="newBestiaryBtn" title="Create a new Bestiary" class="transition duration-150 p-1.5 text-black rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-black">
							<svg class="h-6 w-6" fill="currentColor"><use href="#icon-new-bestiary"></use></svg>
						</button>
						<button id="loadBestiaryBtn" title="Select one of your Bestiaries to edit" class="transition duration-150 p-1.5 text-black rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-black">
							<svg class="h-6 w-6" fill="currentColor"><use href="#icon-load-bestiary"></use></svg>
						</button>
						<button id="importBestiaryBtn" title="Import Bestiary (JSON) from Disk" class="transition duration-150 p-1.5 text-black rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-black">
							<svg class="h-6 w-6" fill="currentColor"><use href="#icon-import-bestiary"></use></svg>
						</button>
						<button id="exportBestiaryBtn" title="Export Bestiary (JSON) to Disk" class="transition duration-150 p-1.5 text-black rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-black">
							<svg class="h-6 w-6" fill="currentColor"><use href="#icon-export-bestiary"></use></svg>
						</button>
					</div>
					
					<div class="absolute bottom-0 left-0 right-0 h-[50px] bg-gradient-to-b from-black via-gray-500 to-black border border-black rounded-xl custom-shadow z-20 flex items-center justify-between px-4">
						<h1 class="text-3xl font-bold text-[#87CC24] ml-48">NPC Engineer</h1>
						<div id="npc-buttons" class="flex items-center space-x-4">
							<button id="newNpcBtn" title="New NPC" class="transition duration-150 p-1.5 text-white rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white">
								<svg fill="currentColor" stroke="currentColor" stroke-width="0.5" class="h-5 w-5"><use href="#icon-new-npc"></use></svg>
							</button>
							<button id="duplicateNpcBtn" title="Duplicate this NPC." class="transition duration-150 p-1.5 text-white rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white disabled:opacity-25 disabled:cursor-not-allowed">
								<svg class="h-5 w-5" fill="currentColor"><use href="#icon-duplicate-npc"></use></svg>
							</button>
							<button id="importNpcBtn" title="Import NPC" class="transition duration-150 p-1.5 text-white rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white disabled:opacity-25 disabled:cursor-not-allowed">
								<svg class="h-5 w-5" fill="currentColor" stroke="currentColor" stroke-width="1"><use href="#icon-import-npc"></use></svg>
							</button>
							<button id="exportNpcBtn" title="Export NPC" class="transition duration-150 p-1.5 text-white rounded-lg hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white disabled:opacity-25 disabled:cursor-not-allowed">
								<svg class="h-5 w-5" fill="currentColor" stroke="currentColor" stroke-width="1"><use href="#icon-export-npc"></use></svg>
							</button>
						</div>
					</div>
					<div id="npc-selector-container" class="absolute left-0 right-0 pr-6" style="top: 100px; display: flex; justify-content: flex-end; align-items: center;">
						<select id="npc-selector" class="info-select hidden" style="width: 450px; font-size: 11pt;" title="Select an NPC to edit"></select>
						<button id="deleteNpcBtn" title="Delete Current NPC" class="ml-2 p-1.5 text-red-600 rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-500 hidden">
							<svg class="h-5 w-5"><use href="#icon-trash"></use></svg>
						</button>
					</div>
				</div>
			</header>

			<main class="flex flex-wrap justify-center gap-6 pt-6">

				<div id="main-content-column" class="w-[900px] flex-shrink-0 space-y-6">

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 flex justify-between items-center">
							<h2 class="font-bold text-slate-700 cursor-pointer select-none" id="npc-info-header-title">NPC Information</h2>
							<div class="flex items-center space-x-2">
								<label for="fantasy-grounds-group" class="label-text text-xs">FG Group:</label>
								<select id="fantasy-grounds-group" class="info-select h-6 text-xs" style="width: 150px;"></select>
								<button id="manage-groups-btn" title="Manage Groups">
									<svg class="h-5 w-5 text-gray-600 hover:text-black" fill="currentColor"><use href="#icon-manage"></use></svg>
								</button>
							</div>
						</div>
						<div class="card-body">
							<div class="px-4 pt-2 pb-2">
								<div class="flex space-x-4">
									<div class="flex-shrink-0">
										<div class="space-y-1">
											<div class="flex items-center mb-2">
												<label for="npc-name" class="label-text w-28 text-right pr-2">Name</label>
												<input type="text" id="npc-name" class="info-input" style="width: 250px; height: 23px; background-color: #fef2f2; border-color: #b91c1c;" tabindex="1" title="Enter the NPC's name." />
											</div>
											<div class="flex items-center">
												<label for="npc-size" class="label-text w-28 text-right pr-2">Size</label>
												<div class="relative" style="width: 200px; height: 23px;">
													<select id="npc-size" class="info-select absolute top-0 left-0 w-full h-full" tabindex="2" title="Select from the standard size categories or enter your own by clicking the checkbox.">
														<option value="" disabled selected hidden></option>
														<option>Tiny</option>
														<option>Small</option>
														<option>Medium</option>
														<option>Large</option>
														<option>Huge</option>
														<option>Gargantuan</option>
													</select>
													<input type="text" id="npc-size-custom" class="info-input absolute top-0 left-0 w-full h-full hidden" tabindex="2" title="Select from the standard size categories or enter your own by clicking the checkbox." />
												</div>
												<input type="checkbox" id="toggle-custom-size" title="enter a custom size" class="ml-2 mr-4 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" tabindex="-1">
												<label for="npc-gender" class="label-text w-28 text-right pr-2">Gender</label>
												<select id="npc-gender" class="info-select" style="width: 130px; height: 23px;" tabindex="8" title="Select the NPC's gender.
This will insert gender-specific pronouns in the descriptive text.">
													<option value="creature">creature</option>
													<option value="neutral">neutral</option>
													<option value="male">male</option>
													<option value="female">female</option>
												</select>
											</div>
											<div class="flex items-center">
												<label for="npc-type" class="label-text w-28 text-right pr-2">Type</label>
												<div class="relative" style="width: 200px; height: 23px;">
													<select id="npc-type" class="info-select absolute top-0 left-0 w-full h-full" tabindex="3" title="Select from the standard creature types or enter your own by clicking the checkbox.">
														<option value="" disabled selected hidden></option>
														<option>aberration</option>
														<option>beast</option>
														<option>celestial</option>
														<option>construct</option>
														<option>dragon</option>
														<option>elemental</option>
														<option>fey</option>
														<option>fiend</option>
														<option>giant</option>
														<option>humanoid</option>
														<option>monstrosity</option>
														<option>ooze</option>
														<option>plant</option>
														<option>undead</option>
														<option disabled>──────────</option>
														<option>swarm of tiny aberrations</option>
														<option>swarm of tiny beasts</option>
														<option>swarm of tiny constructs</option>
														<option>swarm of tiny elementals</option>
														<option>swarm of tiny monstrosities</option>
														<option>swarm of tiny oozes</option>
														<option>swarm of tiny plants</option>
														<option disabled>──────────</option>
														<option>trap</option>
													</select>
													<input type="text" id="npc-type-custom" class="info-input absolute top-0 left-0 w-full h-full hidden" tabindex="3" title="Select from the standard creature types or enter your own by clicking the checkbox." />
												</div>
												<input type="checkbox" id="toggle-custom-type" title="enter a custom type" class="ml-2 mr-4 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" tabindex="-1">
												<label for="npc-unique" class="label-text w-28 text-right pr-2">Unique</label>
												<div class="w-[130px] flex items-center">
													<input type="checkbox" id="npc-unique" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" tabindex="9" title="Check if the NPC is unique for any reason.
This will capitalise its name in the descriptive text.">
												</div>
											</div>
											<div class="flex items-center">
												<label for="npc-species" class="label-text w-28 text-right pr-2">Species</label>
												<div class="relative" style="width: 200px; height: 23px;">
													<select id="npc-species" class="info-select absolute top-0 left-0 w-full h-full" tabindex="4" title="Select a specific species or enter your own by clicking the checkbox.
Example: a species of humanoid may be half-elf.
You can leave this box blank if desired.">
														<option value="" disabled selected hidden></option>
														<option>aarakocra</option>
														<option>any species</option>
														<option>bullywug</option>
														<option>demon</option>
														<option>derro</option>
														<option>devil</option>
														<option>dragonborn</option>
														<option>dwarf</option>
														<option>elf</option>
														<option>firenewt</option>
														<option>genasi</option>
														<option>gith</option>
														<option>gnoll</option>
														<option>gnome</option>
														<option>goblinoid</option>
														<option>grimlock</option>
														<option>grung</option>
														<option>half-elf</option>
														<option>half-orc</option>
														<option>halfling</option>
														<option>human</option>
														<option>kenku</option>
														<option>kobold</option>
														<option>kuo-toa</option>
														<option>lizardfolk</option>
														<option>merfolk</option>
														<option>orc</option>
														<option>quaggoth</option>
														<option>ratfolk</option>
														<option>sahuagin</option>
														<option>shapechanger</option>
														<option>thri-kreen</option>
														<option>tiefling</option>
														<option>titan</option>
														<option>troglodyte</option>
														<option>xvart</option>
														<option>yuan-ti</option>
														<option>yugoloth</option>
													</select>
													<input type="text" id="npc-species-custom" class="info-input absolute top-0 left-0 w-full h-full hidden" tabindex="4" title="Select a specific species or enter your own by clicking the checkbox.
Example: a species of humanoid may be half-elf.
You can leave this box blank if desired.">
												</div>
												<input type="checkbox" id="toggle-custom-species" title="enter a custom species" class="ml-2 mr-4 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" tabindex="-1">
												<label for="npc-proper" class="label-text w-28 text-right pr-2">Proper Name</label>
												<div class="w-[130px] flex items-center">
													<input type="checkbox" id="npc-proper" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" tabindex="10" title="Check if the name entered is a proper name.
This will use just the first word of the name in the descriptive text.
('Maasq Hammerheart' will be referred to as 'Maasq' throughout; 'Ironbane, Destroyer of Worlds' as 'Ironbane') ">
												</div>
											</div>
											<div class="flex items-start">
												<div class="space-y-1">
													<div class="flex items-center">
														<label for="npc-alignment" class="label-text w-28 text-right pr-2">Alignment</label>
														<div class="relative" style="width: 200px; height: 23px;">
															<select id="npc-alignment" class="info-select absolute top-0 left-0 w-full h-full" tabindex="5" title="Select from the standard alignments or enter your own by clicking the checkbox.">
																<option value="" disabled selected hidden></option>
																<option>unaligned</option>
																<option disabled>──────────</option>
																<option>lawful good</option>
																<option>lawful neutral</option>
																<option>lawful evil</option>
																<option disabled>──────────</option>
																<option>neutral good</option>
																<option>true neutral</option>
																<option>neutral evil</option>
																<option disabled>──────────</option>
																<option>chaotic good</option>
																<option>chaotic neutral</option>
																<option>chaotic evil</option>
															</select>
															<input type="text" id="npc-alignment-custom" class="info-input absolute top-0 left-0 w-full h-full hidden" tabindex="5" title="Select from the standard alignments or enter your own by clicking the checkbox.">
														</div>
														<input type="checkbox" id="toggle-custom-alignment" title="enter a custom alignment" class="ml-2 mr-4 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" tabindex="-1">
													</div>
													<div class="flex items-center">
														<label for="npc-ac" class="label-text w-28 text-right pr-2">Armor Class</label>
														<input type="text" id="npc-ac" class="info-input" style="width: 200px; height: 23px;" tabindex="6" title="Enter the NPC's armor class. You can also enter the type of armor in brackets.
Example: 12 (leather armor)">
													</div>
													<div class="flex items-center">
														<label for="npc-hp" class="label-text w-28 text-right pr-2">Hit Points</label>
														<input type="text" id="npc-hp" class="info-input" style="width: 200px; height: 23px;" tabindex="7" title="Enter the NPC's hit points, followed by its hit dice in brackets.
Example: 16 (3d6 + 6)
Double-click to open a window that will help build a correct expression.">
													</div>
													<div class="flex items-center" style="padding-top: 3px;">
														<label for="npc-challenge" class="label-text w-28 text-right pr-2">Challenge</label>
														<select id="npc-challenge" class="info-select" style="width: 70px; height: 23px;" tabindex="8"></select>
													</div>
													<div class="flex items-center" style="margin-top: -1px;">
														<label class="label-text w-28 text-right pr-2">XP</label>
														<span id="npc-experience-display" class="font-medium text-gray-800" style="width: 80px;"></span>
														<label class="label-text pr-2 ml-2">Proficiency Bonus</label>
														<span id="npc-proficiency-bonus-display" class="font-medium text-gray-800"></span>
													</div>
												</div>

												<div class="flex">
													<label class="label-text w-28 text-right pr-2">Token</label>
													<div class="w-[130px]">
														<div id="npc-token" class="w-[130px] h-[130px] info-input cursor-pointer flex items-center justify-center text-gray-400 text-xs text-center overflow-hidden">
															<span>Click or Drag a Token Image Here</span>
														</div>
														<input type="file" id="token-upload" class="hidden" accept="image/png, image/webp">
													</div>
												</div>
											</div>
										</div>
									</div>

									<div class="flex-grow">
										<div id="npc-image" class="w-[256px] h-[242px] info-input cursor-pointer flex items-center justify-center text-gray-400 text-xs text-center overflow-hidden">
											<span>Click or Drag an NPC Image Here</span>
										</div>
										<input type="file" id="image-upload" class="hidden" accept="image/png, image/webp, image/jpeg">
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 cursor-pointer select-none">
							<h2 class="font-bold text-slate-700 relative" style="top: 0px;">Statistics</h2>
						</div>
						<div class="card-body">
							<div class="p-4">
								<div class="flex justify-around">
									<div class="ml-12">
										<h3 class="font-bold text-center ml-9 mb-1 text-gray-800">Ability Scores</h3>
										<div class="flex space-x-2">
											<div class="flex flex-col items-end space-y-1">
												<label class="label-text font-semibold h-6 mb-1 stat-header">Ability</label>
												<label for="npc-strength" class="label-text h-6 flex items-center">Strength</label>
												<label for="npc-dexterity" class="label-text h-6 flex items-center">Dexterity</label>
												<label for="npc-constitution" class="label-text h-6 flex items-center">Constitution</label>
												<label for="npc-intelligence" class="label-text h-6 flex items-center">Intelligence</label>
												<label for="npc-wisdom" class="label-text h-6 flex items-center">Wisdom</label>
												<label for="npc-charisma" class="label-text h-6 flex items-center">Charisma</label>
											</div>
											<div class="flex flex-col items-center space-y-1">
												<label class="label-text font-semibold h-6 mb-1 stat-header">Score</label>
												<input type="number" id="npc-strength" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="1" max="30">
												<input type="number" id="npc-dexterity" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="1" max="30">
												<input type="number" id="npc-constitution" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="1" max="30">
												<input type="number" id="npc-intelligence" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="1" max="30">
												<input type="number" id="npc-wisdom" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="1" max="30">
												<input type="number" id="npc-charisma" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="1" max="30">
											</div>
											<div class="flex flex-col items-center space-y-1">
												<label class="label-text font-semibold h-6 mb-1 stat-header">Bonus</label>
												<span id="npc-strength-bonus" class="font-medium text-gray-800 h-6 flex items-center"></span>
												<span id="npc-dexterity-bonus" class="font-medium text-gray-800 h-6 flex items-center"></span>
												<span id="npc-constitution-bonus" class="font-medium text-gray-800 h-6 flex items-center"></span>
												<span id="npc-intelligence-bonus" class="font-medium text-gray-800 h-6 flex items-center"></span>
												<span id="npc-wisdom-bonus" class="font-medium text-gray-800 h-6 flex items-center"></span>
												<span id="npc-charisma-bonus" class="font-medium text-gray-800 h-6 flex items-center"></span>
											</div>
										</div>
									</div>
									
									<div class="mr-12">
										<h3 class="font-bold text-center mb-1 text-gray-800">Saving Throws</h3>
										<div class="flex space-x-2">
											<div class="flex flex-col items-center space-y-1">
												<label class="label-text font-semibold h-6 mb-1 text-center stat-header" style="width: 60px;">Prof</label>
												<div class="h-6 flex items-center justify-center w-full"><input type="checkbox" id="npc-strength-saving-throw-prof" title="Add proficiency in strength saving throws?" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
												<div class="h-6 flex items-center justify-center w-full"><input type="checkbox" id="npc-dexterity-saving-throw-prof" title="Add proficiency in dexterity saving throws?" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
												<div class="h-6 flex items-center justify-center w-full"><input type="checkbox" id="npc-constitution-saving-throw-prof" title="Add proficiency in constitution saving throws?" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
												<div class="h-6 flex items-center justify-center w-full"><input type="checkbox" id="npc-intelligence-saving-throw-prof" title="Add proficiency in intelligence saving throws?" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
												<div class="h-6 flex items-center justify-center w-full"><input type="checkbox" id="npc-wisdom-saving-throw-prof" title="Add proficiency in wisdom saving throws?" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
												<div class="h-6 flex items-center justify-center w-full"><input type="checkbox" id="npc-charisma-saving-throw-prof" title="Add proficiency in charisma saving throws?" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											</div>
											<div class="flex flex-col items-center space-y-1">
												<label class="label-text font-semibold h-6 mb-1 text-center stat-header" style="width: 50px;">Adjust</label>
												<input type="number" id="npc-strength-saving-throw-adjust" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="-9" max="9">
												<input type="number" id="npc-dexterity-saving-throw-adjust" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="-9" max="9">
												<input type="number" id="npc-constitution-saving-throw-adjust" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="-9" max="9">
												<input type="number" id="npc-intelligence-saving-throw-adjust" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="-9" max="9">
												<input type="number" id="npc-wisdom-saving-throw-adjust" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="-9" max="9">
												<input type="number" id="npc-charisma-saving-throw-adjust" class="info-input h-6" style="width: 41px; padding-right: 2px;" min="-9" max="9">
											</div>
											<div class="flex flex-col items-center space-y-1">
												<label class="label-text font-semibold h-6 mb-1 text-center stat-header" style="width: 50px;">Total</label>
												<span id="npc-strength-saving-throw-total" class="font-medium text-gray-800 h-6 flex items-center justify-center w-full"></span>
												<span id="npc-dexterity-saving-throw-total" class="font-medium text-gray-800 h-6 flex items-center justify-center w-full"></span>
												<span id="npc-constitution-saving-throw-total" class="font-medium text-gray-800 h-6 flex items-center justify-center w-full"></span>
												<span id="npc-intelligence-saving-throw-total" class="font-medium text-gray-800 h-6 flex items-center justify-center w-full"></span>
												<span id="npc-wisdom-saving-throw-total" class="font-medium text-gray-800 h-6 flex items-center justify-center w-full"></span>
												<span id="npc-charisma-saving-throw-total" class="font-medium text-gray-800 h-6 flex items-center justify-center w-full"></span>
											</div>
										</div>
									</div>

								</div>
							</div>
						</div>
					</div>
					
					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 cursor-pointer select-none">
							<h2 class="font-bold text-slate-700 relative" style="top: 0px;">Movement Speed and Sense Ranges</h2>
						</div>
						<div class="card-body">
							<div class="p-4">
								<div class="flex justify-around">
									<div>
										<h3 class="font-bold text-center mb-1 text-gray-800">Speeds (ft.)</h3>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-speed-base" class="label-text w-24 text-right whitespace-nowrap">Base Speed</label>
											<input type="number" id="npc-speed-base" class="info-input h-6 w-20 text-center" min="0" max="200" step="5">
										</div>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-speed-burrow" class="label-text w-24 text-right">Burrow</label>
											<input type="number" id="npc-speed-burrow" class="info-input h-6 w-20 text-center" min="0" max="200" step="5">
										</div>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-speed-climb" class="label-text w-24 text-right">Climb</label>
											<input type="number" id="npc-speed-climb" class="info-input h-6 w-20 text-center" min="0" max="200" step="5">
										</div>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-speed-fly" class="label-text w-24 text-right">Fly</label>
											<input type="number" id="npc-speed-fly" class="info-input h-6 w-20 text-center" min="0" max="200" step="5">
											<div class="w-28 flex items-center ml-4">
												<input type="checkbox" id="npc-fly-hover" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
												<label for="npc-fly-hover" class="label-text ml-2">Hover</label>
											</div>
										</div>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-speed-swim" class="label-text w-24 text-right">Swim</label>
											<input type="number" id="npc-speed-swim" class="info-input h-6 w-20 text-center" min="0" max="200" step="5">
										</div>
									</div>
									<div>
										<h3 class="font-bold text-center mb-1 text-gray-800">Senses (ft.)</h3>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-sense-blindsight" class="label-text w-36 text-right">Blindsight</label>
											<input type="number" id="npc-sense-blindsight" class="info-input h-6 w-20 text-center" min="0" max="600" step="10">
											<div class="w-32 flex items-center ml-4">
												<input type="checkbox" id="npc-blind-beyond" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
												<label for="npc-blind-beyond" class="label-text ml-2">Blind Beyond</label>
											</div>
										</div>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-sense-darkvision" class="label-text w-36 text-right">Darkvision</label>
											<input type="number" id="npc-sense-darkvision" class="info-input h-6 w-20 text-center" min="0" max="600" step="10">
										</div>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-sense-tremorsense" class="label-text w-36 text-right">Tremorsense</label>
											<input type="number" id="npc-sense-tremorsense" class="info-input h-6 w-20 text-center" min="0" max="600" step="10">
										</div>
										<div class="flex items-center space-x-2 mb-1">
											<label for="npc-sense-truesight" class="label-text w-36 text-right">Truesight</label>
											<input type="number" id="npc-sense-truesight" class="info-input h-6 w-20 text-center" min="0" max="600" step="10">
										</div>
										<div class="flex items-center space-x-2 mt-2">
											<label class="label-text w-36 text-right font-semibold whitespace-nowrap">Passive Perception</label>
											<span id="npc-passive-perception" class="font-medium text-gray-800 h-6 flex items-center justify-center w-20"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 cursor-pointer select-none">
							<h2 class="font-bold text-slate-700 relative" style="top: 0px;">Resistances</h2>
						</div>
						<div class="card-body">
							<div class="p-4">
								<div class="relative mt-2">
									<h3 class="font-bold text-gray-800 absolute -top-2.5 left-4 bg-white px-1">Vulnerability</h3>
									<div class="border border-gray-400 rounded-lg p-3 pt-4">
										<div class="flex justify-between items-start">
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-acid" class="label-text text-[8pt] leading-tight">Acid</label><input type="checkbox" id="vuln-acid" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-cold" class="label-text text-[8pt] leading-tight">Cold</label><input type="checkbox" id="vuln-cold" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-fire" class="label-text text-[8pt] leading-tight">Fire</label><input type="checkbox" id="vuln-fire" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-force" class="label-text text-[8pt] leading-tight">Force</label><input type="checkbox" id="vuln-force" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-lightning" class="label-text text-[8pt] leading-tight">Lightning</label><input type="checkbox" id="vuln-lightning" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-necrotic" class="label-text text-[8pt] leading-tight">Necrotic</label><input type="checkbox" id="vuln-necrotic" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-poison" class="label-text text-[8pt] leading-tight">Poison</label><input type="checkbox" id="vuln-poison" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-psychic" class="label-text text-[8pt] leading-tight">Psychic</label><input type="checkbox" id="vuln-psychic" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-radiant" class="label-text text-[8pt] leading-tight">Radiant</label><input type="checkbox" id="vuln-radiant" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-thunder" class="label-text text-[8pt] leading-tight">Thunder</label><input type="checkbox" id="vuln-thunder" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-bludgeoning" class="label-text text-[8pt] leading-tight">Bludgeoning</label><input type="checkbox" id="vuln-bludgeoning" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-piercing" class="label-text text-[8pt] leading-tight">Piercing</label><input type="checkbox" id="vuln-piercing" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="vuln-slashing" class="label-text text-[8pt] leading-tight">Slashing</label><input type="checkbox" id="vuln-slashing" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
										</div>
									</div>
								</div>

								<div class="relative mt-6">
									<h3 class="font-bold text-gray-800 absolute -top-2.5 left-4 bg-white px-1">Resistance</h3>
									<div class="border border-gray-400 rounded-lg p-3 pt-4">
										<div class="flex justify-between items-start">
											<div class="flex flex-col items-center text-center px-1"><label for="res-acid" class="label-text text-[8pt] leading-tight">Acid</label><input type="checkbox" id="res-acid" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-cold" class="label-text text-[8pt] leading-tight">Cold</label><input type="checkbox" id="res-cold" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-fire" class="label-text text-[8pt] leading-tight">Fire</label><input type="checkbox" id="res-fire" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-force" class="label-text text-[8pt] leading-tight">Force</label><input type="checkbox" id="res-force" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-lightning" class="label-text text-[8pt] leading-tight">Lightning</label><input type="checkbox" id="res-lightning" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-necrotic" class="label-text text-[8pt] leading-tight">Necrotic</label><input type="checkbox" id="res-necrotic" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-poison" class="label-text text-[8pt] leading-tight">Poison</label><input type="checkbox" id="res-poison" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-psychic" class="label-text text-[8pt] leading-tight">Psychic</label><input type="checkbox" id="res-psychic" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-radiant" class="label-text text-[8pt] leading-tight">Radiant</label><input type="checkbox" id="res-radiant" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-thunder" class="label-text text-[8pt] leading-tight">Thunder</label><input type="checkbox" id="res-thunder" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-bludgeoning" class="label-text text-[8pt] leading-tight">Bludgeoning</label><input type="checkbox" id="res-bludgeoning" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-piercing" class="label-text text-[8pt] leading-tight">Piercing</label><input type="checkbox" id="res-piercing" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="res-slashing" class="label-text text-[8pt] leading-tight">Slashing</label><input type="checkbox" id="res-slashing" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
										</div>
										<div class="mt-4 pt-2 border-t border-gray-300">
											<div class="flex flex-col space-y-1 text-sm">
												<div class="flex items-center">
													<input type="radio" id="wr-none" name="weapon-resistance" value="none" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wr-none" class="ml-2 label-text">No special weapon resistances.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wr-nonmagical" name="weapon-resistance" value="nonmagical" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wr-nonmagical" class="ml-2 label-text">Resistant to nonmagical weapons.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wr-silvered" name="weapon-resistance" value="silvered" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wr-silvered" class="ml-2 label-text">Resistant to nonmagical weapons that aren't silvered.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wr-adamantine" name="weapon-resistance" value="adamantine" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wr-adamantine" class="ml-2 label-text">Resistant to nonmagical weapons that aren't adamantine.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wr-cold-forged" name="weapon-resistance" value="cold-forged" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wr-cold-forged" class="ml-2 label-text">Resistant to nonmagical weapons that aren't cold-forged iron.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wr-magical" name="weapon-resistance" value="magical" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wr-magical" class="ml-2 label-text">Resistant to magical weapons.</label>
												</div>
											</div>
										</div>
									</div>
								</div>

								<div class="relative mt-6">
									<h3 class="font-bold text-gray-800 absolute -top-2.5 left-4 bg-white px-1">Immunity</h3>
									<div class="border border-gray-400 rounded-lg p-3 pt-4">
										<div class="flex justify-between items-start">
											<div class="flex flex-col items-center text-center px-1"><label for="imm-acid" class="label-text text-[8pt] leading-tight">Acid</label><input type="checkbox" id="imm-acid" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-cold" class="label-text text-[8pt] leading-tight">Cold</label><input type="checkbox" id="imm-cold" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-fire" class="label-text text-[8pt] leading-tight">Fire</label><input type="checkbox" id="imm-fire" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-force" class="label-text text-[8pt] leading-tight">Force</label><input type="checkbox" id="imm-force" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-lightning" class="label-text text-[8pt] leading-tight">Lightning</label><input type="checkbox" id="imm-lightning" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-necrotic" class="label-text text-[8pt] leading-tight">Necrotic</label><input type="checkbox" id="imm-necrotic" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-poison" class="label-text text-[8pt] leading-tight">Poison</label><input type="checkbox" id="imm-poison" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-psychic" class="label-text text-[8pt] leading-tight">Psychic</label><input type="checkbox" id="imm-psychic" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-radiant" class="label-text text-[8pt] leading-tight">Radiant</label><input type="checkbox" id="imm-radiant" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-thunder" class="label-text text-[8pt] leading-tight">Thunder</label><input type="checkbox" id="imm-thunder" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-bludgeoning" class="label-text text-[8pt] leading-tight">Bludgeoning</label><input type="checkbox" id="imm-bludgeoning" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-piercing" class="label-text text-[8pt] leading-tight">Piercing</label><input type="checkbox" id="imm-piercing" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
											<div class="flex flex-col items-center text-center px-1"><label for="imm-slashing" class="label-text text-[8pt] leading-tight">Slashing</label><input type="checkbox" id="imm-slashing" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"></div>
										</div>
										<div class="mt-4 pt-2 border-t border-gray-300">
											<div class="flex flex-col space-y-1 text-sm">
												<div class="flex items-center">
													<input type="radio" id="wi-none" name="weapon-immunity" value="none" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wi-none" class="ml-2 label-text">No special weapon immunities.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wi-nonmagical" name="weapon-immunity" value="nonmagical" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wi-nonmagical" class="ml-2 label-text">Immune to nonmagical weapons.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wi-silvered" name="weapon-immunity" value="silvered" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wi-silvered" class="ml-2 label-text">Immune to nonmagical weapons that aren't silvered.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wi-adamantine" name="weapon-immunity" value="adamantine" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wi-adamantine" class="ml-2 label-text">Immune to nonmagical weapons that aren't adamantine.</label>
												</div>
												<div class="flex items-center">
													<input type="radio" id="wi-cold-forged" name="weapon-immunity" value="cold-forged" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500">
													<label for="wi-cold-forged" class="ml-2 label-text">Immune to nonmagical weapons that aren't cold-forged iron.</label>
												</div>
											</div>
										</div>
									</div>
								</div>
								
								<div class="relative mt-6">
									<h3 class="font-bold text-gray-800 absolute -top-2.5 left-4 bg-white px-1">Condition Immunity</h3>
									<div class="border border-gray-400 rounded-lg p-4 pt-5">
										<div class="grid grid-cols-3 gap-x-8 gap-y-1 text-sm">
											<div class="flex items-center"><input type="checkbox" id="ci-blinded" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-blinded" class="ml-2 label-text">blinded</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-charmed" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-charmed" class="ml-2 label-text">charmed</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-deafened" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-deafened" class="ml-2 label-text">deafened</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-exhaustion" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-exhaustion" class="ml-2 label-text">exhaustion</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-frightened" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-frightened" class="ml-2 label-text">frightened</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-grappled" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-grappled" class="ml-2 label-text">grappled</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-incapacitated" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-incapacitated" class="ml-2 label-text">incapacitated</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-invisible" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-invisible" class="ml-2 label-text">invisible</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-paralyzed" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-paralyzed" class="ml-2 label-text">paralyzed</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-petrified" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-petrified" class="ml-2 label-text">petrified</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-poisoned" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-poisoned" class="ml-2 label-text">poisoned</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-prone" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-prone" class="ml-2 label-text">prone</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-restrained" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-restrained" class="ml-2 label-text">restrained</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-stunned" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-stunned" class="ml-2 label-text">stunned</label></div>
											<div class="flex items-center"><input type="checkbox" id="ci-unconscious" class="h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"><label for="ci-unconscious" class="ml-2 label-text">unconscious</label></div>
										</div>
									</div>
								</div>

							</div>
						</div>
					</div>

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 cursor-pointer select-none">
							<h2 class="font-bold text-slate-700 relative" style="top: 0px;">Skills</h2>
						</div>
						<div class="card-body">
							<div class="p-4 grid grid-cols-2 gap-x-8">
								<div class="space-y-1">
									<div class="flex items-center font-semibold text-xs text-gray-500 mb-1">
										<span class="w-28 text-left">Skill</span>
										<span class="w-10 text-center">Attr</span>
										<span class="w-8 text-center">Prof</span>
										<span class="w-8 text-center">Exp</span>
										<span class="w-16 text-center">Adjust</span>
										<span class="w-12 text-center">Total</span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="acrobatics" data-attr="dexterity">
										<label for="skill-acrobatics-prof" class="w-28 text-sm">Acrobatics</label><span class="w-10 text-center text-xs text-gray-500">(DEX)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-acrobatics-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Acrobatics."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-acrobatics-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Acrobatics."></span>
										<input type="number" id="skill-acrobatics-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Acrobatics.">
										<span id="skill-acrobatics-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="animal_handling" data-attr="wisdom">
										<label for="skill-animal_handling-prof" class="w-28 text-sm">Animal Handling</label><span class="w-10 text-center text-xs text-gray-500">(WIS)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-animal_handling-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Animal Handling."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-animal_handling-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Animal Handling."></span>
										<input type="number" id="skill-animal_handling-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Animal Handling.">
										<span id="skill-animal_handling-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="arcana" data-attr="intelligence">
										<label for="skill-arcana-prof" class="w-28 text-sm">Arcana</label><span class="w-10 text-center text-xs text-gray-500">(INT)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-arcana-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Arcana."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-arcana-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Arcana."></span>
										<input type="number" id="skill-arcana-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Arcana.">
										<span id="skill-arcana-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="athletics" data-attr="strength">
										<label for="skill-athletics-prof" class="w-28 text-sm">Athletics</label><span class="w-10 text-center text-xs text-gray-500">(STR)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-athletics-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Athletics."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-athletics-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Athletics."></span>
										<input type="number" id="skill-athletics-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Athletics.">
										<span id="skill-athletics-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="deception" data-attr="charisma">
										<label for="skill-deception-prof" class="w-28 text-sm">Deception</label><span class="w-10 text-center text-xs text-gray-500">(CHA)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-deception-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Deception."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-deception-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Deception."></span>
										<input type="number" id="skill-deception-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Deception.">
										<span id="skill-deception-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="history" data-attr="intelligence">
										<label for="skill-history-prof" class="w-28 text-sm">History</label><span class="w-10 text-center text-xs text-gray-500">(INT)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-history-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in History."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-history-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in History."></span>
										<input type="number" id="skill-history-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for History.">
										<span id="skill-history-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="insight" data-attr="wisdom">
										<label for="skill-insight-prof" class="w-28 text-sm">Insight</label><span class="w-10 text-center text-xs text-gray-500">(WIS)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-insight-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Insight."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-insight-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Insight."></span>
										<input type="number" id="skill-insight-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Insight.">
										<span id="skill-insight-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="intimidation" data-attr="charisma">
										<label for="skill-intimidation-prof" class="w-28 text-sm">Intimidation</label><span class="w-10 text-center text-xs text-gray-500">(CHA)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-intimidation-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Intimidation."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-intimidation-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Intimidation."></span>
										<input type="number" id="skill-intimidation-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Intimidation.">
										<span id="skill-intimidation-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="investigation" data-attr="intelligence">
										<label for="skill-investigation-prof" class="w-28 text-sm">Investigation</label><span class="w-10 text-center text-xs text-gray-500">(INT)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-investigation-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Investigation."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-investigation-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Investigation."></span>
										<input type="number" id="skill-investigation-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Investigation.">
										<span id="skill-investigation-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
								</div>
								<div class="space-y-1">
									<div class="flex items-center font-semibold text-xs text-gray-500 mb-1">
										<span class="w-28 text-left">Skill</span>
										<span class="w-10 text-center">Attr</span>
										<span class="w-8 text-center">Prof</span>
										<span class="w-8 text-center">Exp</span>
										<span class="w-16 text-center">Adjust</span>
										<span class="w-12 text-center">Total</span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="medicine" data-attr="wisdom">
										<label for="skill-medicine-prof" class="w-28 text-sm">Medicine</label><span class="w-10 text-center text-xs text-gray-500">(WIS)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-medicine-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Medicine."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-medicine-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Medicine."></span>
										<input type="number" id="skill-medicine-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Medicine.">
										<span id="skill-medicine-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="nature" data-attr="intelligence">
										<label for="skill-nature-prof" class="w-28 text-sm">Nature</label><span class="w-10 text-center text-xs text-gray-500">(INT)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-nature-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Nature."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-nature-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Nature."></span>
										<input type="number" id="skill-nature-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Nature.">
										<span id="skill-nature-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="perception" data-attr="wisdom">
										<label for="skill-perception-prof" class="w-28 text-sm">Perception</label><span class="w-10 text-center text-xs text-gray-500">(WIS)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-perception-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Perception."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-perception-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Perception."></span>
										<input type="number" id="skill-perception-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Perception.">
										<span id="skill-perception-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="performance" data-attr="charisma">
										<label for="skill-performance-prof" class="w-28 text-sm">Performance</label><span class="w-10 text-center text-xs text-gray-500">(CHA)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-performance-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Performance."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-performance-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Performance."></span>
										<input type="number" id="skill-performance-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Performance.">
										<span id="skill-performance-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="persuasion" data-attr="charisma">
										<label for="skill-persuasion-prof" class="w-28 text-sm">Persuasion</label><span class="w-10 text-center text-xs text-gray-500">(CHA)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-persuasion-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Persuasion."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-persuasion-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Persuasion."></span>
										<input type="number" id="skill-persuasion-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Persuasion.">
										<span id="skill-persuasion-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="religion" data-attr="intelligence">
										<label for="skill-religion-prof" class="w-28 text-sm">Religion</label><span class="w-10 text-center text-xs text-gray-500">(INT)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-religion-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Religion."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-religion-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Religion."></span>
										<input type="number" id="skill-religion-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Religion.">
										<span id="skill-religion-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="sleight_of_hand" data-attr="dexterity">
										<label for="skill-sleight_of_hand-prof" class="w-28 text-sm">Sleight of Hand</label><span class="w-10 text-center text-xs text-gray-500">(DEX)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-sleight_of_hand-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Sleight of Hand."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-sleight_of_hand-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Sleight of Hand."></span>
										<input type="number" id="skill-sleight_of_hand-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Sleight of Hand.">
										<span id="skill-sleight_of_hand-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="stealth" data-attr="dexterity">
										<label for="skill-stealth-prof" class="w-28 text-sm">Stealth</label><span class="w-10 text-center text-xs text-gray-500">(DEX)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-stealth-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Stealth."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-stealth-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Stealth."></span>
										<input type="number" id="skill-stealth-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Stealth.">
										<span id="skill-stealth-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
									<div class="skill-row flex items-center h-6" data-skill="survival" data-attr="wisdom">
										<label for="skill-survival-prof" class="w-28 text-sm">Survival</label><span class="w-10 text-center text-xs text-gray-500">(WIS)</span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-survival-prof" class="skill-prof h-4 w-4" title="Check this box if the NPC has proficiency in Survival."></span>
										<span class="w-8 flex justify-center"><input type="checkbox" id="skill-survival-exp" class="skill-exp h-4 w-4" title="Check this box if the NPC has expertise in Survival."></span>
										<input type="number" id="skill-survival-adjust" class="info-input h-5 w-16 text-center skill-adjust" min="-5" max="5" value="0" title="Any other adjustments to the bonus for Survival.">
										<span id="skill-survival-total" class="w-12 text-center font-bold text-gray-800 skill-total"></span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 flex justify-between items-center">
							<h2 class="font-bold text-slate-700 cursor-pointer select-none">Languages</h2>
							<button id="manage-languages-btn" title="Manage Languages">
								<svg class="h-5 w-5 text-gray-600 hover:text-black" fill="currentColor"><use href="#icon-manage"></use></svg>
							</button>
						</div>
						<div class="card-body">
							<div class="p-4 space-y-4">
								<div class="flex justify-around space-x-2">
									<div>
										<label class="label-text mb-1 text-center">Standard</label>
										<select multiple id="language-list-standard" class="language-listbox" size="12" style="width: 150px;"></select>
									</div>
									<div>
										<label class="label-text mb-1 text-center">Exotic</label>
										<select multiple id="language-list-exotic" class="language-listbox" size="12" style="width: 150px;"></select>
									</div>
									<div>
										<label class="label-text mb-1 text-center">Monstrous I</label>
										<select multiple id="language-list-monstrous1" class="language-listbox" size="12" style="width: 150px;"></select>
									</div>
									<div>
										<label class="label-text mb-1 text-center">Monstrous II</label>
										<select multiple id="language-list-monstrous2" class="language-listbox" size="12" style="width: 150px;"></select>
									</div>
									<div>
										<label class="label-text mb-1 text-center">User</label>
										<select multiple id="language-list-user" class="language-listbox" size="12" style="width: 150px;"></select>
									</div>
								</div>
								<div class="border-t pt-3 flex justify-between items-center">
									<div class="flex items-center space-x-4">
										<div class="flex items-center">
											<input type="checkbox" id="npc-has-telepathy" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
											<label for="npc-has-telepathy" class="ml-2 label-text">Has Telepathy</label>
										</div>
										<div class="flex items-center">
											<label for="npc-telepathy-range" class="label-text mr-2">Range (ft.)</label>
											<input type="number" id="npc-telepathy-range" class="info-input h-6 w-16 text-center" min="0" step="10">
										</div>
									</div>
									<div class="flex items-center">
										<label for="npc-special-language-option" class="label-text mr-2">Special Language Options</label>
										<select id="npc-special-language-option" class="info-select h-6">
											<option value="0">No special conditions</option>
											<option value="1">Speaks no languages</option>
											<option value="2">Speaks all languages</option>
											<option value="3">Speaks languages it knew in life</option>
											<option value="4">Can't speak; knows selected languages</option>
											<option value="5">Can't speak; knows creator's languages</option>
											<option value="6">Can't speak; knows languages known in life</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 flex justify-between items-center">
							<h2 class="font-bold text-slate-700 cursor-pointer select-none">Traits</h2>
							<button id="manage-traits-btn" title="Manage Traits">
								<svg class="h-5 w-5 text-gray-600 hover:text-black" fill="currentColor"><use href="#icon-manage"></use></svg>
							</button>
						</div>
						<div class="card-body">
							<div class="p-4">
								<div id="npc-trait-list" class="space-y-2">
									</div>
								<div class="flex items-center justify-end mt-2">
									<input type="checkbox" id="sort-traits-alpha" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
									<label for="sort-traits-alpha" class="ml-2 label-text text-xs">Sort traits alphabetically</label>
								</div>
								<hr class="my-4 border-gray-300">
								<div class="space-y-2">
									<div>
										<label for="new-trait-name" class="label-text">Trait Name</label>
										<input id="new-trait-name" list="saved-trait-list" class="info-input w-full" autocomplete="off">
										<datalist id="saved-trait-list"></datalist>
									</div>
									<div>
										<label for="new-trait-description" class="label-text">Trait Description</label>
										<textarea id="new-trait-description" class="info-input w-full h-24" rows="3"></textarea>
									</div>
									<div class="text-right">
										<button id="add-trait-btn" class="bg-[#87CC24] text-black px-4 py-1 rounded-md text-sm hover:opacity-80 font-semibold">Add Trait</button>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 cursor-pointer select-none">
							<h2 class="font-bold text-slate-700 relative" style="top: 0px;">Actions</h2>
						</div>
						<div class="card-body">
							<div class="p-4 min-h-[10rem]"></div>
						</div>
					</div>

					<div class="bg-white rounded-xl custom-shadow overflow-hidden bordered-container card-font-style">
						<div class="card-header bg-[#F1FBEA] px-3 py-1 border-b border-black/20 cursor-pointer select-none">
							<h2 class="font-bold text-slate-700 relative" style="top: 0px;">Description</h2>
						</div>
						<div class="card-body">
							<div class="p-2">
								<input id="npc-description" type="hidden" name="content">
								<trix-editor input="npc-description" class="trix-content"></trix-editor>
							</div>
						</div>
					</div>
				</div>

				<aside class="w-[500px] flex-shrink-0 lg:sticky top-36">
					<div id="viewport" class="w-[500px] h-[800px] bg-cover bg-center rounded-xl custom-shadow overflow-auto bordered-container" style=" padding-top: 10px; background-image: url(&quot;graphics/viewport.jpg&quot;); background-repeat: repeat; background-position: top left; background-size: auto; overflow-y: scroll;">
						</div>
					<div id="npc-options-container" class="hidden w-full mt-2 ml-5">
						<div class="flex flex-col space-y-1">
							<div class="flex items-center">
								<input type="checkbox" id="npc-add-description" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
								<label for="npc-add-description" class="ml-2 label-text text-xs">Add description to the NPC</label>
							</div>
							<div class="flex items-center">
								<input type="checkbox" id="npc-add-title" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
								<label for="npc-add-title" class="ml-2 label-text text-xs">Add a title</label>
							</div>
							<div class="flex items-center">
								<input type="checkbox" id="npc-add-image-link" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
								<label for="npc-add-image-link" class="ml-2 label-text text-xs">Add an image link</label>
							</div>
							<div class="flex items-center">
								<input type="checkbox" id="npc-use-drop-cap" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
								<label for="npc-use-drop-cap" class="ml-2 label-text text-xs">Use a drop cap in the description</label>
							</div>
						</div>
					</div>
				</aside>
			</main>
		</div>

		<div id="modal-overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
			
			<div id="new-bestiary-modal" class="bg-white rounded-xl custom-shadow bordered-container card-font-style p-4 space-y-3 w-80 hidden">
				<div class="flex justify-between items-center mb-2">
					<h3 class="font-bold text-slate-700">Create New Bestiary</h3>
					<button class="modal-close-btn text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
				</div>
				<div class="space-y-2">
					<div>
						<label for="new-bestiary-name" class="label-text">Bestiary Name</label>
						<input type="text" id="new-bestiary-name" class="info-input w-full">
					</div>
				</div>
				<div class="text-right pt-2">
					<button id="create-bestiary-btn" class="bg-[#87CC24] text-black px-4 py-1 rounded-md text-sm hover:opacity-80 font-semibold">Create</button>
				</div>
			</div>

			<div id="load-bestiary-modal" class="bg-white rounded-xl custom-shadow bordered-container card-font-style p-4 space-y-3 w-96 hidden">
				<div class="flex justify-between items-center mb-2">
					<h3 class="font-bold text-slate-700">Load Bestiary</h3>
					<button class="modal-close-btn text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
				</div>
				<div id="bestiary-list" class="space-y-2 max-h-80 overflow-y-auto">
					</div>
			</div>
			
			<div id="manage-groups-modal" class="bg-white rounded-xl custom-shadow bordered-container card-font-style p-4 space-y-3 w-96 hidden">
				<div class="flex justify-between items-center mb-2">
					<h3 class="font-bold text-slate-700">Manage Groups</h3>
					<button class="modal-close-btn text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
				</div>
				<div class="flex space-x-2">
					<input type="text" id="new-group-name" class="info-input w-full" placeholder="New group name...">
					<button id="add-group-btn" class="bg-[#87CC24] text-black px-4 py-1 rounded-md text-sm hover:opacity-80 font-semibold">Add</button>
				</div>
				<div id="group-list" class="space-y-1 max-h-60 overflow-y-auto border-t pt-2 mt-2">
					</div>
			</div>

			<div id="manage-languages-modal" class="bg-white rounded-xl custom-shadow bordered-container card-font-style p-4 space-y-3 w-96 hidden">
				<div class="flex justify-between items-center mb-2">
					<h3 class="font-bold text-slate-700">Manage Languages</h3>
					<button class="modal-close-btn text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
				</div>
				<div class="flex space-x-2">
					<input type="text" id="new-language-name" class="info-input w-full" placeholder="New language name...">
					<button id="add-language-btn" class="bg-[#87CC24] text-black px-4 py-1 rounded-md text-sm hover:opacity-80 font-semibold">Add</button>
				</div>
				<div id="language-list-div" class="space-y-1 max-h-60 overflow-y-auto border-t pt-2 mt-2">
					</div>
			</div>
			
			<div id="manage-traits-modal" class="bg-white rounded-xl custom-shadow bordered-container card-font-style p-4 space-y-3 w-[500px] hidden">
				<div class="flex justify-between items-center mb-2">
					<h3 class="font-bold text-slate-700">Manage Traits</h3>
					<button class="modal-close-btn text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
				</div>
				<div class="space-y-2">
					<input type="text" id="modal-trait-name" class="info-input w-full" placeholder="New trait name...">
					<textarea id="modal-trait-description" class="info-input w-full h-24" placeholder="Trait description..."></textarea>
					<div class="mt-2">
						<div id="modal-token-buttons" class="flex items-center space-x-1">
							<button class="text-xs bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded" data-token="{name}">{name}</button>
							<button class="text-xs bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded" data-token="{he}">{he}</button>
							<button class="text-xs bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded" data-token="{him}">{him}</button>
							<button class="text-xs bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded" data-token="{his}">{his}</button>
							<button class="text-xs bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded" data-token="{himself}">{himself}</button>
						</div>
						<div class="mt-2 text-xs text-gray-600">
							<div id="trait-reference-content" class="mt-1 p-2 border rounded-md bg-gray-50 text-[10px] leading-relaxed">
								<b>Quick Reference:</b><br>
								<b>Click</b> a button to insert its lowercase token (e.g., <code>{he}</code>).<br>
								<b>Shift+Click</b> a button to insert its capitalized version (e.g., <code>{He}</code>).
							</div>
						</div>
					</div>
					<button id="add-managed-trait-btn" class="bg-[#87CC24] text-black px-4 py-1 rounded-md text-sm hover:opacity-80 font-semibold float-right">Add</button>
				</div>
				<div id="managed-trait-list-div" class="space-y-1 max-h-60 overflow-y-auto border-t pt-10 mt-2">
					</div>
			</div>

			<div id="settings-modal" class="bg-white rounded-xl custom-shadow bordered-container card-font-style p-4 space-y-3 w-96 hidden">
				<div class="flex justify-between items-center mb-2">
					<h3 class="font-bold text-slate-700">Bestiary Default Settings</h3>
					<button class="modal-close-btn text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
				</div>
				<div class="space-y-2 border-t pt-2 mt-2">
					<p class="text-xs text-gray-500">These settings are applied to all new NPCs created in this bestiary.</p>
					<div class="flex items-center">
						<input type="checkbox" id="bestiary-add-description" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
						<label for="bestiary-add-description" class="ml-2 label-text">Add description to the NPC</label>
					</div>
					<div class="flex items-center">
						<input type="checkbox" id="bestiary-add-title" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
						<label for="bestiary-add-title" class="ml-2 label-text">Add a title</label>
					</div>
					<div class="flex items-center">
						<input type="checkbox" id="bestiary-add-image-link" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
						<label for="bestiary-add-image-link" class="ml-2 label-text">Add an image link</label>
					</div>
					<div class="flex items-center">
						<input type="checkbox" id="bestiary-use-drop-cap" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
						<label for="bestiary-use-drop-cap" class="ml-2 label-text">Use a drop cap in the description</label>
					</div>
				</div>
				<div class="text-right pt-2">
					<button id="settings-ok-btn" class="bg-[#87CC24] text-black px-4 py-1 rounded-md text-sm hover:opacity-80 font-semibold">OK</button>
				</div>
			</div>


			<div id="hp-modal" class="bg-white rounded-xl custom-shadow bordered-container card-font-style p-4 space-y-3 w-64 hidden">
				<div class="flex justify-between items-center mb-2">
					<h3 class="font-bold text-slate-700">Hit Dice Calculator</h3>
					<button id="hp-modal-close" class="text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
				</div>
				<div class="space-y-2">
					<div>
						<label for="hp-num-dice" class="label-text">Number of Dice</label>
						<input type="number" id="hp-num-dice" class="info-input w-full" value="1" min="1">
					</div>
					<div>
						<label for="hp-die-type" class="label-text">Die Type</label>
						<select id="hp-die-type" class="info-select w-full">
							<option value="4">d4</option>
							<option value="6">d6</option>
							<option value="8" selected>d8</option>
							<option value="10">d10</option>
							<option value="12">d12</option>
							<option value="20">d20</option>
						</select>
					</div>
					<div>
						<label for="hp-bonus" class="label-text">Bonus</label>
						<input type="number" id="hp-bonus" class="info-input w-full" value="0">
					</div>
				</div>
				<div class="text-right pt-2">
					<button id="hp-apply-btn" class="bg-[#87CC24] text-black px-4 py-1 rounded-md text-sm hover:opacity-80 font-semibold">Apply</button>
				</div>
			</div>

		</div>
		
		<script src="icons.js" defer></script>
		<script src="ui.js" defer></script>
		<script src="viewport.js" defer></script>
		<script src="main.js" defer></script>
	</body>
</html>